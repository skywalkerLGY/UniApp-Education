{"version":3,"sources":["webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/order/confirm-buy.vue?28a8","uni-app:///pages/order/confirm-buy.vue","webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/order/confirm-buy.vue?2451","webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/order/confirm-buy.vue?cbed","uni-app:///main.js",null,"webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/order/confirm-buy.vue?e516","webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/order/confirm-buy.vue?f033"],"names":["createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAA2tB,CAAgB,2rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmF/uB;;AAEA,mF;;AAEA;AACA,wBADA;;AAGA,wCAHA;;AAKA,MALA,kBAKA;AACA;AACA,gBADA,EACA;AACA,kBAFA,EAEA;AACA;AACA;AACA,gBALA,CAKA;AALA;AAOA,GAbA;;AAeA;AACA;AACA,YAFA,sBAEA;AACA;AACA,KAJA;AAKA,SALA,mBAKA;AACA;AACA;AACA,KARA,EAfA;;;AA0BA,QA1BA,kBA0BA,MA1BA,EA0BA;;;;;;;;AAQA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;AAWA,GApDA;;;AAuDA;AACA,cADA,wBACA;;AAEA,iDAFA,+CAEA,IAFA,yBAEA,IAFA;AAGA,qCAHA;AAIA,KALA;;AAOA;AACA;;;;;AAKA;AACA,iBAdA,2BAcA;AACA;AACA,qBAFA,GAEA,eAFA;AAGA;AACA,yBAJA,GAIA,EAJA;AAKA;AACA;AACA;AACA;AACA,mBAFA;AAGA,iBALA,MAKA;AACA;AACA;AACA;AACA;AACA,oBAfA,GAeA,sCAfA;AAgBA;AACA;AAjBA,oBAkBA,YAlBA;AAmBA,6FAnBA;;;;AAuBA;AACA;AACA;AACA,8BADA;AAEA,4BAFA,IAzBA;;AA6BA,+CA7BA,UA6BA,GA7BA;AA8BA;;AAEA;AACA;AACA;AACA;AACA,wCADA;AAEA,qCAFA;AAGA;AACA;AACA;AACA,qBANA;;AAQA,iBAVA,MAUA;AACA;AACA,qDADA;AAEA,qCAFA;;AAIA;;AAEA,uCAlDA;AAmDA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAnEA,EAvDA,E;;;;;;;;;;;;;ACvFA;AAAA;AAAA;AAAA;AAA4zC,CAAgB,6rCAAG,EAAC,C;;;;;;;;;;;ACAh1C;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,uG;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACc;;;AAGxE;AAC0L;AAC1L,gBAAgB,2LAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pages/order/confirm-buy.js","sourcesContent":["import mod from \"-!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirm-buy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirm-buy.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"confirm-order\">\n\t\t<view class=\"goods\">\r\n\t\t\t<text>商品信息</text>\r\n\t\t\t<!-- v-for优先级高于v-if -->\r\n\t\t\t<template v-if=\"course && course.list\"> \r\n\t\t\t\t<course-item v-for=\"(item, index) in course.list\" \r\n\t\t\t\t\t:key=\"index\" :item=\"item\" >\r\n\t\t\t\t</course-item>\r\n\t\t\t</template>\r\n\t\t\t<course-item v-else :item=\"course\"></course-item>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"option-pay card\">\r\n\t\t\t<view class=\"title\">支付方式</view>\r\n\t\t\t<!-- APP端的IOS设备上显示 -->\r\n\t\t\t<view v-if=\"isIOS\" class=\"ios\">\r\n\t\t\t\t<text>余额：</text>\r\n\t\t\t\t<text>{{balance}}币 {{isPay ? '': '(不足支付)'}}</text>\r\n\t\t\t</view>\r\n\t\t\t<!-- 非APP端的IOS设备上显示 -->\r\n\t\t\t <radio-group v-else @change=\"radioChange\">\r\n\t\t\t\t <!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t <label class=\"pay-item center space-between\" >\r\n\t\t\t\t \t<view class=\"left center\">\r\n\t\t\t\t \t\t<image src=\"/static/pay/alipay.png\"></image>\r\n\t\t\t\t \t\t<text>支付宝</text>\r\n\t\t\t\t \t</view>\r\n\t\t\t\t \t<radio value=\"alipay\" :checked=\"provider === 'alipay'\"  style=\"transform:scale(0.8)\"/>\r\n\t\t\t\t </label>\r\n\t\t\t\t <!-- #endif -->\r\n\t\t\t\t \r\n\t\t\t\t <!-- #ifndef MP-ALIPAY -->\r\n\t\t\t\t<label class=\"pay-item center space-between\" >\r\n\t\t\t\t\t<view class=\"left center\">\r\n\t\t\t\t\t\t<image src=\"/static/pay/wxpay.png\"></image>\r\n\t\t\t\t\t\t<text>微信支付</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<radio value=\"wxpay\" :checked=\"provider === 'wxpay'\" style=\"transform:scale(0.8)\"/>\r\n\t\t\t\t</label>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t</radio-group>\r\n\t\t</view>\n\t\t\r\n\t\t<view class=\"card price\">\r\n\t\t\t<view class=\"space-between\">\r\n\t\t\t\t<text>商品金额</text>\r\n\t\t\t\t<!-- 原价或套餐总原价 -->\r\n\t\t\t\t<text>￥{{course.priceOriginal || course.totalPrice}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"space-between\" v-if=\"course.priceDiscount || course.groupPrice\">\r\n\t\t\t\t<text>优惠价</text>\r\n\t\t\t\t<!-- 优惠价或套餐组合价 -->\r\n\t\t\t\t<text>￥{{course.priceDiscount || course.groupPrice}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 占位底部 -->\r\n\t\t<view style=\"height: 130rpx;\"></view>\r\n\t\t\r\n\t\t<view class=\"pay space-between\">\r\n\t\t\t<view>\r\n\t\t\t\t<text class=\"grey\">实付金额：</text>\r\n\t\t\t\t<!-- <text>￥{{course.priceDiscount || course.groupPrice || course.priceOriginal || course.totalPrice}}</text> -->\r\n\t\t\t\t<text>{{payPrice}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view>\r\n\t\t\t\t<button v-if=\"isIOS\" class=\"btn\" :loading=\"loading\" :disabled=\"loading\" @click=\"iosPayHandler\">\r\n\t\t\t\t\t{{isPay ? '立即': '充值并'}}支付\r\n\t\t\t\t</button>\r\n\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t<button v-else class=\"btn\" :loading=\"loading\":disabled=\"loading\"  @click=\"wxPayHandler\">立即支付</button>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t<button v-else class=\"btn\" :loading=\"loading\" :disabled=\"loading\" @click=\"payHandler\">立即支付</button>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport courseItem from '@/components/common/course-item.vue'\n\t\r\n\timport api from '@/api/order.js'\r\n\t\r\n\timport payMixin from './mixins/pay.js'\r\n\t\r\n\texport default {\r\n\t\tmixins: [payMixin],\r\n\t\t\r\n\t\tcomponents: {courseItem},\r\n\t\t\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcourse: {}, // 商品信息\r\n\t\t\t\tisIOS: false, // 是否为APP端的IOS设备\r\n\t\t\t\t//provider: 'alipay', // 选择支付方式\r\n\t\t\t\t//loading: false, // 提交中\r\n\t\t\t\tbalance: 0, //余额（币）\n\t\t\t}\n\t\t},\r\n\t\t\r\n\t\tcomputed: {\r\n\t\t\t// 支付金额\r\n\t\t\tpayPrice() {\r\n\t\t\t\treturn this.course.priceDiscount || this.course.groupPrice || this.course.priceOriginal || this.course.totalPrice\r\n\t\t\t},\r\n\t\t\tisPay() {\r\n\t\t\t\t// 余额是否足够，true 足够，fasle不足\r\n\t\t\t\treturn this.balance >= this.payPrice\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonLoad(option) { \r\n\t\t\t// #ifndef MP-WEIXIN\r\n\t\t\t// 非微信小程序转义：.replace(/%/g, '%25')\r\n\t\t    if(option.course) this.course = JSON.parse(decodeURIComponent(option.course.replace(/%/g, '%25')));\r\n\t\t\tif(option.courseGroup) this.course = JSON.parse(decodeURIComponent(option.courseGroup.replace(/%/g, '%25')));\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t// 微信小程序不需要转义\r\n\t\t\tif(option.course) this.course = JSON.parse(decodeURIComponent(option.course));\r\n\t\t\tif(option.courseGroup) this.course = JSON.parse(decodeURIComponent(option.courseGroup));\r\n\t\t\t\r\n\t\t\t// 微信小程序选中微信支付\r\n\t\t\t//this.provider = 'wxpay'\r\n\t\t\t// #endif\r\n\t\t\t// console.log('course', this.course)\r\n\t\t\t\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\t// 保证ios平台上的app\r\n\t\t\tthis.isIOS = uni.getSystemInfoSync().platform === 'ios'\r\n\t\t\t\r\n\t\t\t// ios平台上的app查询余额\r\n\t\t\tif(this.isIOS) {\r\n\t\t\t\tthis.getBalance()\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t\r\n\t\t\n\t\tmethods: {\r\n\t\t\tasync getBalance() {\r\n\t\t\t\t// 查询余额（币）\r\n\t\t\t\tconst {data} = await api.getUserBalance()\r\n\t\t\t\tthis.balance = data\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取支付渠道\n\t\t\t/* radioChange(event) {\r\n\t\t\t\t// console.log('event', event)\r\n\t\t\t\tthis.provider = event.detail.value\r\n\t\t\t}, */\r\n\t\t\t\r\n\t\t\t// APPLE应用内支付\r\n\t\t\tasync iosPayHandler() {\r\n\t\t\t\t// 1. 支付金额 this.payPrice\r\n\t\t\t\tconst price = this.payPrice\r\n\t\t\t\t// 2. 课程ids(单个课程、课程套餐）\r\n\t\t\t\tlet courseIds = []\r\n\t\t\t\tif(this.course.list) {\r\n\t\t\t\t\t// 课程套餐每个课程id\r\n\t\t\t\t\tthis.course.list.forEach( item => {\r\n\t\t\t\t\t\tcourseIds.push(item.id)\r\n\t\t\t\t\t})\r\n\t\t\t\t}else {\r\n\t\t\t\t\t// 单个课程\r\n\t\t\t\t\tcourseIds.push(this.course.id)\r\n\t\t\t\t}\r\n\t\t\t\t// 提交后台的数据\r\n\t\t\t\tconst data = {price, courseIds}\r\n\t\t\t\tconsole.log('data', data, this.isPay)\r\n\t\t\t\t// 3. 余额不足，跳转充值页\r\n\t\t\t\tif(!this.isPay) {\r\n\t\t\t\t\tthis.navTo(`/pages/order/my-balance?params=${JSON.stringify(data)}`)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 4. 余额充足，调用服务接口支付 \r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '支付中',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tconst res = await api.orderPay(data)\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\r\n\t\t\t\t// 5. 刷新当前余额&跳转到订单页\r\n\t\t\t\tif(res.code === 20000) {\r\n\t\t\t\t\tthis.getBalance()\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '支付完成，立即学习',\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tsuccess: () =>{\r\n\t\t\t\t\t\t\t// 跳转订单页\r\n\t\t\t\t\t\t\tthis.navTo('/pages/order/order')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}else {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '支付失败，原因：' + res.message,\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.loading = false\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/* // 登录微信小程序获取用户openid\r\n\t\t\tloginWeixinMp() {\r\n\t\t\t\t// https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/login.html\r\n\t\t\t\treturn new Promise((resolve, reject)=>{\r\n\t\t\t\t\t// 1. 先获取用户code，再获取openid\r\n\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\t\tconsole.log('res', res.code)\r\n\t\t\t\t\t\t\t// 2. 再获取 openid, 调用后台服务接口\r\n\t\t\t\t\t\t\t// let {data: openid} = await api.getUserOpenid(res.code)\r\n\t\t\t\t\t\t\tlet openid = 'xxx'\r\n\t\t\t\t\t\t\tuni.setStorageSync('openid', openid)\r\n\t\t\t\t\t\t\tresolve(openid)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//微信小程序支付\r\n\t\t\tasync wxPayHandler() {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\t// 1. 登录微信小程序，获取code, 再获取 openid\r\n\t\t\t\tlet openid = uni.getStorageSync('openid')\r\n\t\t\t\tif(!openid) {\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\topenid = await this.loginWeixinMp()\r\n\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\tconsole.error(e)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif( !openid ) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '获取openid失败',\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('openid', openid)\r\n\t\t\t\t// 2. 通过 openid 调用后台服务接口获取订单信息\r\n\t\t\t\tlet orderInfo = await this.getOrderInfo(openid)\r\n\t\t\t\t// 3. 发起支付\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t...orderInfo,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '支付成功！'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 跳转到订单页\r\n\t\t\t\t\t\tthis.navTo('/pages/order/order')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '支付失败，原因：' + res.errMsg,\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 安卓端APP支付\r\n\t\t\tasync payHandler() {\r\n\t\t\t\t// 支付中\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t// 1. 获取订单信息\r\n\t\t\t\tlet orderInfo = await this.getOrderInfo()\r\n\t\t\t\tconsole.log('获取订单信息', orderInfo)\r\n\t\t\t\tif(!orderInfo) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '获取支付订单信息失败',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// 2. 发送支付请求\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\tprovider: this.provider,\r\n\t\t\t\t\torderInfo: orderInfo,\r\n\t\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t\tconsole.log('支付成功', e)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '支付成功！'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 跳转到订单页\r\n\t\t\t\t\t\tthis.navTo('/pages/order/order')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.log('支付失败', e)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\tcontent: '支付失败！',\r\n\t\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetOrderInfo(openid) {\r\n\t\t\t\treturn new Promise( async (resolve, reject) => {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(openid) {\r\n\t\t\t\t\t\t// https://pay.weixin.qq.com/wiki/doc/apiv3/open/pay/chapter2_8_2.shtml\r\n\t\t\t\t\t\t// 微信小程序发送请求到服务端获取订单信息，\r\n\t\t\t\t\t\t // await api.getOrderInfoWxpayMP({openid: openid})\r\n\t\t\t\t\t\tlet orderInfo = {\r\n\t\t\t\t\t\t\ttimeStamp: \"1414561699\",\r\n\t\t\t\t\t\t\tnonceStr: \"5K8264ILTKCH16CQ2502SI8ZNMTM67VS\",\r\n\t\t\t\t\t\t\tpackage: \"prepay_id=wx201410272009395522657a690389285100\",\r\n\t\t\t\t\t\t\tsignType: \"RSA\",\r\n\t\t\t\t\t\t\tpaySign: \"oR9d8PuhnIc+YZ8cBHFCwfgpa\",\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tresolve(orderInfo)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet res= null \r\n\t\t\t\t\tlet data = {} // 提交给后台的数据（自行扩展）\r\n\t\t\t\t\tif(this.provider === 'alipay') {\r\n\t\t\t\t\t\tres = await api.getOrderInfoAlipay(data)\r\n\t\t\t\t\t}else if( this.provider === 'wxpay') {\r\n\t\t\t\t\t\tres = await api.getOrderInfoWxpay(data)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(res.code === 20000) {\r\n\t\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\treject(new Error('获取支付信息失败，原因：'+ res.message))\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} */\r\n\t\t\t\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n\t.confirm-order {\r\n\t\tfont-size: 29rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\t.goods {\r\n\t\tpadding: 20rpx 30rpx 0 30rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\t\r\n\t.card {\r\n\t\tpadding: 0 30rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tmargin-top: 30rpx;\r\n\t\tbox-shadow: 1px 0 5px 0 rgba(0,0,0, 0.08);\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n\t.option-pay {\r\n\t\t.title {\r\n\t\t\tline-height: 90rpx;\r\n\t\t\tborder-bottom: $mxg-underline;\r\n\t\t}\r\n\t\t.ios {\r\n\t\t\tline-height: 90rpx;\r\n\t\t\ttext:last-child{\r\n\t\t\t\tcolor: $mxg-text-color-red;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.pay-item {\r\n\t\t\tline-height: 90rpx;\r\n\t\t\t.left {\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t}\r\n\t\t\t\ttext{\r\n\t\t\t\t\tfont-size: 33rpx;\r\n\t\t\t\t\tpadding-left: 20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t.price {\r\n\t\t>view {\r\n\t\t\tline-height: 90rpx;\r\n\t\t\tborder-bottom: 1px solid #F8F9FB;\r\n\t\t}\r\n\t}\r\n\t\r\n\t.pay {\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\talign-items: center;\r\n\t\theight: 100rpx;\r\n\t\tpadding: 0 30rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-top: $mxg-underline;\r\n\t\tview:first-child >text:last-child {\r\n\t\t\tcolor: $mxg-text-color-red;\r\n\t\t\tfont-size: 35rpx;\r\n\t\t}\r\n\t\t.btn {\r\n\t\t\tbackground-color: $mxg-color-primary;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t\tborder-radius: 50rpx;\r\n\t\t\tline-height: 80rpx;\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\t&::after {\r\n\t\t\t\t// 加载中隐藏边框\r\n\t\t\t\tborder: none;\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</style>\n","import mod from \"-!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirm-buy.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirm-buy.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611999930679\n      var cssReload = require(\"D:/02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/order/confirm-buy.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./confirm-buy.vue?vue&type=template&id=461b3ce2&\"\nvar renderjs\nimport script from \"./confirm-buy.vue?vue&type=script&lang=js&\"\nexport * from \"./confirm-buy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirm-buy.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/confirm-buy.vue\"\nexport default component.exports","export * from \"-!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirm-buy.vue?vue&type=template&id=461b3ce2&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }"],"sourceRoot":""}