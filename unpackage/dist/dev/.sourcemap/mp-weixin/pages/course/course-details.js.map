{"version":3,"sources":["uni-app:///main.js","webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/course/course-details.vue?9538","webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/course/course-details.vue?5fe1","webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/course/course-details.vue?bd36","webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/course/course-details.vue?fecf","uni-app:///pages/course/course-details.vue","webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/course/course-details.vue?3080","webpack:///D:/03-projectCode/teacherProject/frontProject/uniapp/mxg-education-app/pages/course/course-details.vue?40fa"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8G;AACAA,UAAU,CAACC,sBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACc;;;AAG3E;AAC0L;AAC1L,gBAAgB,2LAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAA8tB,CAAgB,8rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6ClvB;;;;;;;;AAQA,qF;;AAEA;AACA;AACA,8BADA;AAEA,kBAFA;AAGA,0BAHA;AAIA,wBAJA;AAKA,gCALA;AAMA,4BANA;AAOA,wBAPA,EADA;;;AAWA,MAXA,kBAWA;AACA;AACA,sCADA,EACA;AACA,iBAFA,EAEA;AACA,sBAHA,EAGA;AACA,wBAJA,EAIA;AACA,yBALA,EAKA;AACA,kBANA,EAMA;;AAEA,cARA,EAQA;AACA,gBATA,EASA;AACA,qBAVA,EAUA;AACA,qBAXA,EAWA;AACA,mBAZA,EAYA;AACA,kBAbA,EAaA;;AAEA,oBAfA,EAeA;AACA,wBAhBA,EAgBA;AACA,mBAjBA,CAiBA;AAjBA;AAmBA,GA/BA;;AAiCA,QAjCA,kBAiCA,MAjCA,EAiCA;AACA;AACA;;AAEA;;;;;AAKA;AACA;AACA;AACA,GA7CA;;AA+CA;AACA,SAhDA,qBAgDA;AACA;AACA;AACA;AACA,gBADA;AAEA;AACA;AACA;AACA,KALA,EAKA,IALA;;AAOA;AACA;AACA,GA5DA;;AA8DA;AACA,eA/DA,2BA+DA;AACA;AACA;AACA;AACA,GAnEA;;AAqEA;AACA,cAtEA,wBAsEA,CAtEA,EAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA,GAtFA;;AAwFA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA,mBA3HA,6BA2HA,GA3HA,EA2HA;AACA;AACA,8BADA;AAEA,kCAFA;;AAIA,GAhIA;;;AAmIA;AACA;AACA,aAFA,qBAEA,CAFA,EAEA;AACA;;AAEA;AACA;AACA,iCADA;AAEA,qBAFA;;AAIA,KAVA;;AAYA;AACA,iBAbA,2BAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA,KA3BA;;AA6BA;AACA,iBA9BA,2BA8BA;AACA;AACA;AACA,oBADA;AAEA,qBAFA;;AAIA;AACA;AACA,KAtCA;;AAwCA;AACA,qBAzCA,+BAyCA;AACA;AACA;AACA;AACA,KA7CA;;AA+CA;AACA,YAhDA,sBAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3DA;;AA6DA,kBA7DA,4BA6DA;AACA;AACA,uBAFA,GAEA,oCAFA;AAGA,uBAHA;;AAKA,2DALA,+CAKA,IALA,yBAKA,IALA;AAMA;AACA;AAPA;AASA,KAtEA;;AAwEA;AACA,iBAzEA,2BAyEA;AACA,0DADA,gDACA,IADA,yBACA,IADA;AAEA;AACA;AACA;AACA;AACA,mCADA,IALA;;AAQA,KAjFA;;AAmFA;AACA,yBApFA,mCAoFA;AACA,kEADA,gDACA,IADA,yBACA,IADA;AAEA;AACA,0CAHA;AAIA,KAxFA;;AA0FA;AACA,wBA3FA,kCA2FA;AACA,iEADA,gDACA,IADA,yBACA,IADA;AAEA;AACA,0CAHA;AAIA,KA/FA;;AAiGA;AACA,sBAlGA,gCAkGA;AACA,+DADA,gDACA,IADA,yBACA,IADA;AAEA;AACA,wCAHA;AAIA,KAtGA;;AAwGA;AACA,eAzGA,yBAyGA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAjHA;;AAmHA;AACA,aApHA,uBAoHA;AACA;AACA;AACA,KAvHA;;AAyHA;AACA,aA1HA,qBA0HA,GA1HA,EA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA,KAzIA,EAnIA,E;;;;;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAA+zC,CAAgB,gsCAAG,EAAC,C;;;;;;;;;;;ACAn1C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/course/course-details.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/course/course-details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./course-details.vue?vue&type=template&id=0c09be5b&\"\nvar renderjs\nimport script from \"./course-details.vue?vue&type=script&lang=js&\"\nexport * from \"./course-details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./course-details.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/course/course-details.vue\"\nexport default component.exports","export * from \"-!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./course-details.vue?vue&type=template&id=0c09be5b&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      $event.preventDefault()\n      return (function() {})($event)\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./course-details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./course-details.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 主图和基本信息 -->\r\n\t\t<course-header :course=\"course\"></course-header>\r\n\t\t<view class=\"course-details\" :style=\"'height:' + pageHeight + 'px'\">\r\n\t\t\t<tab-bar :tabs=\"tabs\" v-model=\"tabIndex\"></tab-bar>\r\n\t\t\t<swiper class=\"swiper-box\" :duration=\"300\" :current=\"tabIndex\" circular @change=\"changeTab\">\r\n\t\t\t\t<swiper-item v-for=\"(item, index) in tabs\" :key=\"index\">\r\n\t\t\t\t\t<scroll-view class=\"scroll-box\" :scroll-y=\"enableScroll\" \r\n\t\t\t\t\t\t@scrolltoupper=\"scrolltoupper\" :upper-threshold=\"0\">\r\n\t\t\t\t\t\t<view class=\"details-info\">\r\n\t\t\t\t\t\t\t<course-info v-if=\"index === 0\" :detailUrls=\"course.detailUrls\" ></course-info>\r\n\t\t\t\t\t\t\t<course-dir v-if=\"index === 1\" :chapterList=\"chapterList\" :isBuy=\"isBuy\" @playVideo=\"playVideo\" :activeObj=\"activeObj\"></course-dir>\r\n\t\t\t\t\t\t\t<course-comment v-if=\"index === 2\" :commentList=\"commentList\"></course-comment>\r\n\t\t\t\t\t\t\t<course-group v-if=\"index === 3\" :groupList=\"groupList\"></course-group>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 底部按钮：立即购买 -->\r\n\t\t<bottom-btn :btnText=\"isBuy || course.isFree ? '立即观看': '立即购买'\" @clickBottom=\"clickBottom\"></bottom-btn>\r\n\t\t\r\n\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t<!-- 分享组件 -->\r\n\t\t<mxg-share ref=\"share\" :shareData=\"course\"></mxg-share>\r\n\t\t<!-- #endif -->\r\n\t\t\r\n\t\t<!-- 试看窗口 -->\r\n\t\t<view v-if=\"videoUrl\" class=\"video-box mask\" @click=\"closePlay\" @touchmove.stop.prevent=\"()=>{}\">\r\n\t\t\t<view class=\"name\">\r\n\t\t\t\t<text>免费试看</text>\r\n\t\t\t\t<text class=\"iconfont icon-close\"></text>\r\n\t\t\t</view>\r\n\t\t\t<!-- h5端播放是有问题 -->\r\n\t\t\t<video id=\"playVideo\" class=\"video\" :src=\"videoUrl\"></video>\r\n\t\t</view>\r\n\t\t\r\n\t</view>\n</template>\n\n<script>\r\n\timport courseHeader from './components/course-header.vue'\r\n\timport tabBar from '@/components/common/tab-bar.vue'\r\n\timport tabs from '@/config/course-details-tabs.js'\r\n\t\r\n\timport courseInfo from  './components/course-info.vue'\r\n\timport courseDir from './components/course-dir.vue'\r\n\timport courseComment from './components/course-comment.vue'\r\n\timport courseGroup from './components/course-group.vue'\r\n\timport bottomBtn from './components/bottom-btn.vue'\r\n\t\r\n\timport api from '@/api/course.js'\r\n\t\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tcourseHeader, \r\n\t\t\ttabBar,\r\n\t\t\tcourseInfo,\r\n\t\t\tcourseDir,\r\n\t\t\tcourseComment,\r\n\t\t\tcourseGroup,\r\n\t\t\tbottomBtn\r\n\t\t},\r\n\t\t\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabs, // tabs:tabs 标签选项卡数据\r\n\t\t\t\ttabIndex: 0, //当前所在选项下标\r\n\t\t\t\tpageHeight: 3000, // 手机的视口高度\r\n\t\t\t\tstatusNavHeight: 0, // 状态栏+导航栏高度\r\n\t\t\t\tenableScroll: false, //详情区域是否允许纵向滚动，false不允许\r\n\t\t\t\tdetailTop: 0, //详情区域距离顶部距离\r\n\t\t\t\t\r\n\t\t\t\tid: null, //课程id\r\n\t\t\t\tcourse: {}, // 课程基本信息\r\n\t\t\t\tchapterList: [], //章节信息\r\n\t\t\t\tcommentList: [], //评论信息\r\n\t\t\t\tgroupList: [], //套餐信息\r\n\t\t\t\tisBuy: false, // 是否购买，默认未购买\r\n\t\t\t\t\r\n\t\t\t\tvideoUrl: null, // 播放视频地址\r\n\t\t\t\tvideoContext: null, // 播放器实例\r\n\t\t\t\tactiveObj: {}, // 当前点击的第几节下标\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonLoad(option) {\r\n\t\t\t// console.log(option.id)\r\n\t\t\tthis.getPageHeight()\r\n\t\t\t\r\n\t\t\t//禁用点击状态栏回到顶部\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tthis.noStatusScrollTop()\r\n\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t// 获取课程id，查询课程数据\r\n\t\t\t// this.id = option.id\r\n\t\t\tthis.loadData()\r\n\t\t},\r\n\t\t\r\n\t\t// 第1次页面渲染完后触发\r\n\t\tonReady() {\r\n\t\t\t// 获取详情区域距离顶部高度\r\n\t\t\tlet view = uni.createSelectorQuery().in(this).select(\".course-details\");\r\n\t\t\tview.fields({\r\n\t\t\t  rect: true\r\n\t\t\t}, data => {\r\n\t\t\t  // console.log(\"节点的顶部高度为\" + data.top);\r\n\t\t\t  this.detailTop = data.top\r\n\t\t\t}).exec();\r\n\t\t\t\r\n\t\t\t// 获取当前播放实例\r\n\t\t\tthis.videoContext = uni.createVideoContext('playVideo', this)\r\n\t\t},\r\n\t\t\r\n\t\t// 监听页面滚动到底部\r\n\t\tonReachBottom() {\r\n\t\t\tconsole.log('监听页面滚动到底部')\r\n\t\t\t//页面到达底部，开启详情区域滚动\r\n\t\t\tthis.enableScroll = true\r\n\t\t},\r\n\t\t\r\n\t\t// 监听页面滚动\r\n\t\tonPageScroll(e) {\r\n\t\t\t// console.log('监听页面滚动', e, this.detailTop)\r\n\t\t\t// console.log(this.detailTop - this.statusNavHeight)\r\n\t\t\tif(this.detailTop - this.statusNavHeight <= e.scrollTop) {\r\n\t\t\t\t// 页面到达底部则将详情区域滚动条开启\r\n\t\t\t\tthis.enableScroll = true\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 当前滚动条距离顶部距离 小于 详情区域到达顶部高度\r\n\t\t\tif(this.enableScroll && e.scrollTop < this.detailTop) {\r\n\t\t\t\t// 禁用详情滚动\r\n\t\t\t\tthis.enableScroll = false\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t// 监听app端右上角分享按钮\r\n\t\t// #ifdef APP-PLUS\r\n\t\tonNavigationBarButtonTap(e) {\r\n\t\t\t\r\n\t\t\tconsole.log('e', e)\r\n\t\t\tif(e.type === 'share') {\r\n\t\t\t\t// 自定义分享组件\r\n\t\t\t\tthis.$refs.share.showHandler()\r\n\t\t\t\t\r\n\t\t\t\t// 下面使用的系统自带分享组件\r\n\t\t\t// \t// app端分享\r\n\t\t\t// \tuni.downloadFile({\r\n\t\t\t// \t\turl: this.course.mainImage,\r\n\t\t\t// \t\tsuccess: (res) => {\r\n\t\t\t// \t\t\t// console.log('下载完成', res.tempFilePath)\r\n\t\t\t// \t\t\t// Android 在分享时可能微信只会发送图片\r\n\t\t\t// \t\t\tuni.shareWithSystem({\r\n\t\t\t// \t\t\t  summary: this.course.title,\r\n\t\t\t// \t\t\t  href: 'https://www.mengxuegu.com',\r\n\t\t\t// \t\t\t  type: 'image',\r\n\t\t\t// \t\t\t  imageUrl: res.tempFilePath,\r\n\t\t\t// \t\t\t  success(){\r\n\t\t\t// \t\t\t\t  // 分享完成，请注意此时不一定是成功分享\r\n\t\t\t// \t\t\t\t  uni.showToast({\r\n\t\t\t// \t\t\t\t  \ttitle: '分享成功'\r\n\t\t\t// \t\t\t\t  })\r\n\t\t\t// \t\t\t  }\r\n\t\t\t// \t\t\t})\r\n\t\t\t// \t\t}\r\n\t\t\t// \t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\t\r\n\t\t// 小程序端分享（onLoad)\r\n\t\tonShareAppMessage(res) {\r\n\t\t    return {\r\n\t\t      title: this.course.title,\r\n\t\t      path: this.$util.routePath()\r\n\t\t    }\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\tmethods: {\r\n\t\t\t// 左右切换\r\n\t\t\tchangeTab(e) {\r\n\t\t\t\tthis.tabIndex = e.detail.current\r\n\t\t\t\t\r\n\t\t\t\t// 页面回到底部\r\n\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t\tscrollTop: this.detailTop,\r\n\t\t\t\t\tduration: 300\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取当前页面视口高度\r\n\t\t\tgetPageHeight() {\r\n\t\t\t\tconst res = uni.getSystemInfoSync()\r\n\t\t\t\t// 平台\r\n\t\t\t\tconst system = res.platform\r\n\t\t\t\t// 状态栏高度\r\n\t\t\t\tconst statusBarHeight = res.statusBarHeight\r\n\t\t\t\tif(system === 'android') {\r\n\t\t\t\t\t// 状态导航高度\r\n\t\t\t\t\tthis.statusNavHeight = statusBarHeight + 48\r\n\t\t\t\t}else if(system === 'ios'){\r\n\t\t\t\t\tthis.statusNavHeight = statusBarHeight + 44\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(res.screenHeight , res.windowHeight)\r\n\t\t\t\tthis.pageHeight = res.screenHeight - this.statusNavHeight\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// scrollView组件滚动到顶部\r\n\t\t\tscrolltoupper() {\r\n\t\t\t\t// 1. 让页面滚动条回到顶部\r\n\t\t\t\tuni.pageScrollTo({\r\n\t\t\t\t    scrollTop: 0,\r\n\t\t\t\t    duration: 150\r\n\t\t\t\t})\r\n\t\t\t\t// 2. 禁用详情scrollView滚动\r\n\t\t\t\tthis.enableScroll = false\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 禁用点击状态栏回到顶部\r\n\t\t\tnoStatusScrollTop() {\r\n\t\t\t\t// 获取当前页面实例\r\n\t\t\t\tconst webView = this.$scope.$getAppWebview()\r\n\t\t\t\twebView.setStyle({'scrollsToTop': false})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 初始化课程数据\r\n\t\t\tloadData() {\r\n\t\t\t\t// 0. 判断是否已购买\r\n\t\t\t\tthis.getCourseIsBuy()\r\n\t\t\t\t// 1. 查询课程基本信息\r\n\t\t\t\tthis.getCourseById()\r\n\t\t\t\t// 2. 查询章节列表\r\n\t\t\t\tthis.getChapterSectionList()\r\n\t\t\t\t// 3. 查询评论列表\r\n\t\t\t\tthis.getCourseCommentList()\r\n\t\t\t\t// 4. 查询组合套餐列表\r\n\t\t\t\tthis.getCourseGroupList()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tasync getCourseIsBuy() {\r\n\t\t\t\t//未登录不用跳转登录页\r\n\t\t\t\tconst isLogin = this.$util.isLogin({nav: false}) \r\n\t\t\t\tif(isLogin) {\r\n\t\t\t\t\t// 如果已登录，则判断是否已购买\r\n\t\t\t\t\tconst {data} = await api.getCourseIsBuy(this.id)\r\n\t\t\t\t\tthis.isBuy = data.isBuy\r\n\t\t\t\t\t// console.log('isBuy', this.isBuy)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 1. 查询课程基本信息\r\n\t\t\tasync getCourseById() {\r\n\t\t\t\tconst {data} = await api.getCourseById(this.id)\r\n\t\t\t\t// console.log('查询课程基本信息', data)\r\n\t\t\t\tthis.course = data\r\n\t\t\t\t// 将当前课程标题动态传递给导航\r\n\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t    title: data.title\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 2. 查询章节列表\r\n\t\t\tasync getChapterSectionList() {\r\n\t\t\t\tconst {data} = await api.getChapterSectionList(this.id)\r\n\t\t\t\t// console.log('查询章节列表', data)\r\n\t\t\t\tthis.chapterList = data\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 3. 查询评论列表\r\n\t\t\tasync getCourseCommentList() {\r\n\t\t\t\tconst {data} = await api.getCourseCommentList(this.id)\r\n\t\t\t\t// console.log('查询评论列表', data)\r\n\t\t\t\tthis.commentList = data\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 4. 查询组合套餐列表\r\n\t\t\tasync getCourseGroupList() {\r\n\t\t\t\tconst {data} = await api.getCourseGroupList(this.id)\r\n\t\t\t\t// console.log('查询组合套餐列表', data)\r\n\t\t\t\tthis.groupList = data\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 点击底部按钮触发\r\n\t\t\tclickBottom() {\r\n\t\t\t\tif(this.isBuy || this.course.isFree) {\r\n\t\t\t\t\t// 已购买过或免费，跳转视频播放页面\r\n\t\t\t\t\tthis.navTo(`/pages/course/course-play?id=${this.id}`, {login: true})\r\n\t\t\t\t}else {\r\n\t\t\t\t\t// 未购买过，跳转确认购买页\r\n\t\t\t\t\tthis.navTo(`/pages/order/confirm-buy?course=` + encodeURIComponent(JSON.stringify(this.course)), {login: true} )\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 关闭播放窗口\r\n\t\t\tclosePlay() {\r\n\t\t\t\tthis.videoContext.stop()\r\n\t\t\t\tthis.videoUrl = null\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 试看视频\r\n\t\t\tplayVideo(obj) {\r\n\t\t\t\t// console.log( obj.section.videoUrl )\r\n\t\t\t\tif(this.isBuy) {\r\n\t\t\t\t\t// 已经购买，则直接跳转到视频播放列表页面\r\n\t\t\t\t\tthis.navTo(`/pages/course/course-play?id=${this.id}`, {login: true})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t//解决小程序高亮显示问题\r\n\t\t\t\tthis.activeObj = obj.activeObj\r\n\t\t\t\t// 弹出播放窗口\r\n\t\t\t\tthis.videoUrl = obj.section.videoUrl\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t// 播放\r\n\t\t\t\t\tthis.videoContext.play()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t}\t\r\n\t}\n</script>\n\n<style lang=\"scss\">\r\n\t.course-details {\r\n\t\toverflow: hidden;\r\n\t\t.swiper-box, .scroll-box {\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t\t.details-info {\r\n\t\t\t// 被隐藏的80rpx（标签选项卡高度）\r\n\t\t\tpadding-bottom: 180rpx;\r\n\t\t}\r\n\t}\n\r\n\t.video-box {\r\n\t\tz-index: 100;\r\n\t\ttext-align: center;\r\n\t\t.name{\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t\tposition: relative;\r\n\t\t\ttop: 380rpx;\r\n\t\t\t/* #ifdef MP */\r\n\t\t\ttop: 300rpx;\r\n\t\t\t/* #endif */\r\n\t\t\tfont-size: 38rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t\t.icon-close{\r\n\t\t\tmargin-left: 20rpx;\r\n\t\t}\r\n\t\t.video {\r\n\t\t\twidth: 750rpx;\r\n\t\t\theight: 420rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\tleft: 50%;\r\n\t\t\ttransform: translate(-50%, -50%);\r\n\t\t}\r\n\t\t\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./course-details.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./course-details.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1611974355085\n      var cssReload = require(\"D:/02-devInstall/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}